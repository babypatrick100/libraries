"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4551],{48812:n=>{n.exports=JSON.parse('{"functions":[{"name":"playingSounds","desc":"Returns an array of all sound instances that are currently playing.","params":[],"returns":[{"desc":"","lua_type":"{ Sound }\\n"}],"function_type":"static","source":{"line":80,"path":"src/soundUtil/init.luau"}},{"name":"stopAllSoundsOfSoundId","desc":"Stops all playing sounds which have a `SoundId` of `soundId`, via [soundUtil.stopSound].","params":[{"name":"soundId","desc":"","lua_type":"string"}],"returns":[],"function_type":"static","source":{"line":98,"path":"src/soundUtil/init.luau"}},{"name":"playSoundCloneAndCleanup","desc":"Plays a cloned version of the sound and destroys it when it has ended.","params":[{"name":"sound","desc":"","lua_type":"Sound"}],"returns":[{"desc":"","lua_type":"Sound\\n"}],"function_type":"static","source":{"line":112,"path":"src/soundUtil/init.luau"}},{"name":"stopAll","desc":"Stops all playing sounds via [soundUtil.stopSound].","params":[],"returns":[],"function_type":"static","source":{"line":128,"path":"src/soundUtil/init.luau"}},{"name":"playSound","desc":"Plays the given sound instance, if the sound instance has a heartbeat callback registered for it, then\\t\\nthe sound instance will not be played automatically.\\n\\n```lua\\nsoundUtil.registerSoundHeartbeatCallback(someSound, function(sound, deltaTime)\\n\\tif not sound.Playing then\\n\\t\\tsound.Volume = 0\\n\\t\\tsound:Play()\\n\\tend\\n\\t-- Lerp the volume to 1:\\n\\tsound.Volume += (2 - sound.Volume) * deltaTime\\nend)\\n\\nsoundUtil.playSound(someSound)\\n```","params":[{"name":"sound","desc":"","lua_type":"Sound"}],"returns":[{"desc":"","lua_type":"Sound\\n"}],"function_type":"static","source":{"line":152,"path":"src/soundUtil/init.luau"}},{"name":"playSound3D","desc":"Plays the given sound at the specified given 3D position or instance. If the sound instance has a heartbeat callback registered for it, \\nthen the sound instance will not be played automatically. Once the sound has ended, it\'ll be destroyed.\\n\\n```lua\\n-- Usecase: lightning bolt sounds!\\nlocal lightningBoltSound = ...\\nlocal generatedLightningBoltModel = ...\\nsoundUtil.playSound3D(lightningBoltSound, generatedLightningBoltModel.PrimaryPart) \\n```\\n\\n:::note\\nIdeally you should always generally pass in a cloned version of the sound instance so you can\\nreuse it.\\n\\n```lua\\n-- BAD:\\nsoundUtil.playSound3D(someStorage.someRandomSound, workspace.Baseplate)\\nsoundUtil.playSound3D(someStorage.someRandomSound, workspace.ZombiePart) -- PANIC: `someStorage.someRandomSound` does not exist anymore!\\n\\n-- GOOD:\\noundUtil.playSound3D(someStorage.someRandomSound:Clone(), workspace.Baseplate)\\nsoundUtil.playSound3D(someStorage.someRandomSound:Clone(), workspace.ZombiePart) \\n```\\n:::","params":[{"name":"sound","desc":"","lua_type":"Sound"},{"name":"positionOrBasePart","desc":"","lua_type":"Vector3 | BasePart"}],"returns":[{"desc":"","lua_type":"Sound\\n"}],"function_type":"static","source":{"line":222,"path":"src/soundUtil/init.luau"}},{"name":"stopSound","desc":"Stops the given sound instance. ","params":[{"name":"sound","desc":"","lua_type":"Sound"}],"returns":[],"function_type":"static","source":{"line":249,"path":"src/soundUtil/init.luau"}},{"name":"stopSoundId","desc":"Stops the given sound of sound id `soundId`. ","params":[{"name":"soundId","desc":"","lua_type":"string"}],"returns":[],"function_type":"static","source":{"line":264,"path":"src/soundUtil/init.luau"}},{"name":"playSoundId","desc":"Plays the given sound of sound id `soundId`. \\n\\n```lua\\nsoundUtil.registerSoundIdHeartbeatCallback(someSoundId, function(soundId, deltaTime)\\n\\tlocal soundsOfTheSameSoundId = getSoundsOfSoundId(soundId) -- {...}\\n\\n\\tfor _, sound in soundsOfTheSameSoundId do\\n\\t\\tif not sound.Playing then\\n\\t\\t\\tsound.Volume = 0\\n\\t\\t\\tsound:Play()\\n\\t\\tend\\n\\t\\t\\n\\t\\t-- Lerp the volume to 2:\\n\\t\\tsound.Volume += (2 - sound.Volume) * deltaTime\\n\\tend\\nend)\\n\\nsoundUtil.playSoundId(someSoundId)\\n```","params":[{"name":"soundId","desc":"","lua_type":"string"}],"returns":[],"function_type":"static","source":{"line":291,"path":"src/soundUtil/init.luau"}},{"name":"registerSoundCleanupCallback","desc":"Registers the given callback as a cleanup callback for the given sound instance. The callback will be\\ncalled every [Heartbeat](https://create.roblox.com/docs/reference/engine/classes/RunService#Heartbeat) when the \\nsound is stopped via [soundUtil.stopSound], for as long as it doesn\'t return `false` (to complete cleanup). \\n\\n```lua\\nlocal someSound = ...\\nsoundUtil.registerSoundCleanupCallback(someSound, function(someSound, deltaTime)\\n\\t-- Lerp the volume to 0:\\n\\tsomeSound.Volume += (0 - someSound.Volume) * deltaTime\\n\\t\\n\\tif someSound.Volume < 1e-3 then\\n\\t\\t-- We\'ve fully lerped the volume to 0, let\'s stop the sound and finish\\n\\t\\t-- up cleanup!\\n\\t\\tsomeSound:Stop()\\n\\t\\treturn false \\n\\tend\\n\\n\\treturn true \\nend)\\n\\nsoundUtil.playSound(someSound)\\ntask.wait(2)\\nsomeSoundUtil.stopSound(someSound)\\n```\\n\\n:::note\\nThe `cleanupPredicate` will no longer run if the same sound instance is suddenly played again.\\n:::\\t","params":[{"name":"sound","desc":"","lua_type":"Sound"},{"name":"cleanupPredicate","desc":"","lua_type":"((\\n\\t\\tsound: Sound,\\n\\t\\tdeltaTime: number\\n\\t) -> boolean)?\\n"}],"returns":[],"function_type":"static","source":{"line":327,"path":"src/soundUtil/init.luau"}},{"name":"registerSoundHeartbeatCallback","desc":"Registers the given callback as a heartbeat callback for the given sound instance. It\\nwill be called every [Heartbeat](https://create.roblox.com/docs/reference/engine/classes/RunService#Heartbeat)\\nfor as long as the sound is playing (sound will be in \\"playing\\" state if it has been played by [soundUtil.playSound]\\nand has not finished / stopped yet).\\n\\n```lua\\nsoundUtil.registerSoundHeartbeatCallback(someSound, function(sound, deltaTime)\\n\\tif not sound.Playing then\\n\\t\\tsound.Volume = 0\\n\\t\\tsound:Play()\\n\\tend\\n\\t-- Lerp the volume to 2:\\n\\tsound.Volume += (2 - sound.Volume) * deltaTime\\nend)\\n\\nsoundUtil.playSound(someSound)\\n```","params":[{"name":"sound","desc":"","lua_type":"Sound"},{"name":"heartbeatCallback","desc":"","lua_type":"(sound: Sound, deltaTime: number) -> ()\\n"}],"returns":[],"function_type":"static","source":{"line":357,"path":"src/soundUtil/init.luau"}},{"name":"registerSoundIdHeartbeatCallback","desc":"Registers the given callback as a heartbeat callback for the given **sound id**. It\\nwill be called every [Heartbeat](https://create.roblox.com/docs/reference/engine/classes/RunService#Heartbeat)\\nfor as long as the sound id is not requested to stop (the sound id will be in \\"playing\\" state if it has been played \\nby [soundUtil.playSoundId]).\\n\\n```lua\\nsoundUtil.registerSoundIdHeartbeatCallback(someSoundId, function(soundId, deltaTime)\\n\\tlocal soundsOfTheSameSoundId = getSoundsOfSoundId(soundId) -- {...}\\n\\n\\tfor _, sound in soundsOfTheSameSoundId do\\n\\t\\tif not sound.Playing then\\n\\t\\t\\tsound.Volume = 0\\n\\t\\t\\tsound:Play()\\n\\t\\tend\\n\\t\\t\\n\\t\\t-- Lerp the volume to 2:\\n\\t\\tsound.Volume += (2 - sound.Volume) * deltaTime\\n\\tend\\nend)\\n\\nsoundUtil.playSoundId(someSoundId)\\n```","params":[{"name":"soundId","desc":"","lua_type":"string"},{"name":"heartbeatCallback","desc":"","lua_type":"(\\n\\t\\tsoundId: string,\\n\\t\\tdeltaTime: number\\n\\t) -> ()\\n"}],"returns":[],"function_type":"static","source":{"line":389,"path":"src/soundUtil/init.luau"}},{"name":"registerSoundIdCleanupCallback","desc":"Registers the given callback as a cleanup callback for the given **sound id**. The callback will be\\ncalled every [Heartbeat](https://create.roblox.com/docs/reference/engine/classes/RunService#Heartbeat) when the \\nsound id is stopped via [soundUtil.stopSoundId], for as long as it doesn\'t return `false` (to complete cleanup). \\n\\n```lua\\nsoundUtil.registerSoundIdCleanupCallback(someSoundId, function(soundId, deltaTime)\\n\\tlocal soundsOfTheSameSoundId = getSoundsOfSoundId(soundId) -- {...}\\n\\tlocal soundsCleanedUpCount = 0\\n\\n\\tfor _, sound in soundsOfTheSameSoundId do\\n\\t\\t-- Lerp the volume to 0:\\n\\t\\tsound.Volume += (0 - someSound.Volume) * deltaTime\\n\\n\\t\\tif sound.Volume < 1e-3 then\\n\\t\\t\\tcleanedUpAllSounds += 1\\n\\n\\t\\t\\t-- We\'ve fully lerped the volume to 0, let\'s stop the sound and finish\\n\\t\\t\\t-- up cleanup!\\n\\t\\t\\tif sound.Playing then\\n\\t\\t\\t\\tsound:Stop()\\n\\t\\t\\tend\\n\\t\\tend\\n\\tend\\n\\n\\t-- Finish up cleanup once we have cleaned up all sound instances\\n\\treturn soundsCleanedUpCount < #soundsOfTheSameSoundId\\nend)\\n\\nsoundUtil.playSoundId(someSoundId)\\ntask.wait(2)\\nsomeSoundUtil.stopSoundId(someSoundId)\\n```\\n\\n:::note\\nThe `cleanupPredicate` will no longer run IF the given sound id is suddenly played again (and the `cleanupPredicate`\\nhasn\'t yet completed).\\n:::\\t","params":[{"name":"soundId","desc":"","lua_type":"string"},{"name":"cleanupPredicate","desc":"","lua_type":"((\\n\\t\\tsoundId: string,\\n\\t\\tdeltaTime: number\\n\\t) -> boolean)?\\n"}],"returns":[],"function_type":"static","source":{"line":439,"path":"src/soundUtil/init.luau"}}],"properties":[{"name":"onSoundCleanup","desc":" \\n\\nA [signal](https://sleitnick.github.io/RbxUtil/api/Signal/) which is fired whenever a sound instance is cleaned up.\\n\\n```lua\\nsoundUtil.onSoundCleanup:Connect(function(sound: Sound)\\n\\twarn(sound, \\" cleaned up\\")\\nend)\\n```\\n\\n:::note\\nThis signal will only fire under the following circumstances:\\n\\n- A sound instance played through this utility was destroyed (through `:Destroy`).\\n:::","lua_type":"Signal <sound: Sound>","tags":["Read only","Signal"],"source":{"line":55,"path":"src/soundUtil/init.luau"}}],"types":[],"name":"soundUtil","desc":"A utility module for working with sounds.\\n\\n```lua\\nsoundUtil.registerSoundHeartbeatCallback(someSound, function(sound, deltaTime)\\n\\tif not sound.Playing then\\n\\t\\tsound.Volume = 0\\n\\t\\tsound:Play()\\n\\tend\\n\\n\\t-- Lerp the volume to 1:\\n\\tsound.Volume += (1 - sound.Volume) * deltaTime * 2\\nend)\\n\\nsoundUtil.registerSoundCleanupCallback(someSound, function(sound, deltaTime)\\n\\t-- Lerp the volume to 0:\\n\\tsound.Volume += (0 - sound.Volume) * deltaTime * 2\\n\\n\\tif sound.Volume < 1e-3 then\\n\\t\\t-- We\'ve fully lerped the volume to 0, let\'s stop the sound and finish\\n\\t\\t-- up cleanup!\\n\\t\\tsound:Stop()\\n\\t\\treturn false\\n\\tend\\n\\n\\treturn true\\nend)\\n\\nsoundUtil.playSound(someSound)\\n```","source":{"line":34,"path":"src/soundUtil/init.luau"}}')}}]);